{% extends 'backend/dashboard/main.html' %}
{% load form_tags %}
{% load static %}
{% block header_resource %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css">
{% endblock %}
{% block content %}
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <form action="{% url 'pppoe_customer_edit' data.id %}" method="post" id="user_form">
                    {% csrf_token %}
                    <div class="card">
                        <div class="card-header">
                            <h3 class="font-weight-bold">Add New PPPOE Customer</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Name <span class="text-danger">*</span></div>
                                    {% input type='text' name='name' value=data.name class='form-control required' placeholder="" %}
                                </div>
                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Mobile <span class="text-danger">*</span>
                                    </div>
                                    {% input type='text' name='mobile' id='mobile' value=data.mobile class='form-control required' placeholder="" %}
                                </div>
                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">User Name <span class="text-danger">*</span>
                                    </div>
                                    {% input type='text' name='pppoe_user' value=data.pppoe_user class='form-control required' placeholder="" %}
                                </div>
                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Password <span class="text-danger">*</span>
                                    </div>
                                    {% input type='text' name='pppoe_password' value=data.pppoe_password class='form-control required' placeholder="" %}
                                </div>

                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Package <span class="text-danger">*</span>
                                    </div>
                                    {% select package_list name='package_id' id='package_id' selected=data.package_id class='form-control required select2' blank=True %}
                                </div>

                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Customer Monthly Bill Amount <span
                                            class="text-danger">*</span></div>
                                    {% input type='text' name='bill_amount' value=data.bill_amount class='form-control required' placeholder="" %}
                                </div>

{#                                <div class="form-group col-md-6">#}
{#                                    <div class="form-label text-uppercase">Billing Type <span#}
{#                                            class="text-danger">*</span>#}
{#                                    </div>#}
{#                                            {% billing_type type='radio' name='billing_type' id='billing_type' choice_data='1' class='' placeholder="" %}#}
{#                                </div>#}

                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Auto Bill <span
                                            class="text-danger">*</span>
                                    </div>
                                            {% auto_bill type='radio' name='auto_bill' value=data.auto_bill id='auto_bill' class='' placeholder="" %}
                                </div>

                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Bill Day <span
                                            class="text-danger">*</span></div>
                                    {% input type='text' name='bill_day' value=data.bill_day class='form-control required' placeholder="" %}
                                </div>

{##}
{#                                <div class="form-group col-md-6">#}
{#                                    <div class="form-label text-uppercase">Billing Start Date <span class="text-danger">*</span>#}
{#                                    </div>#}
{#                                    {% input type='date' name='billing_start_date' class='date form-control' placeholder="" %}#}
{#                                </div>#}

                                <div class="form-group col-md-6">
                                    <div class="form-label text-uppercase">Address <span class="text-danger">*</span>
                                    </div>
                                    {% input type='text' name='address' value=data.address class='form-control' placeholder="" %}
                                </div>


                                <div class="form-group col-md-12 mb-0">
                                    <button class="btn btn-sm btn-primary" type="submit">Save</button>
                                </div>
                            </div>

                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>
{% endblock %}
{% block extra_js %}
    <script type="text/javascript" src="{% static 'assets/plugins/jquery-validation/jquery.validate.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#user_form").validate({
                errorPlacement: function (error, element) {
                    error.insertAfter(element); // Display the error message after the invalid input element
                },
            });

            $("#package_id").select2({
                minimumResultsForSearch: Infinity
            })


        });
    </script>



{% endblock %}